function Config(){this.getUniqueId=function(){return"undefined"==typeof APP_ID?JSON.stringify(window.location.hostname):API_ID},this.getRootUrl=function(){return"undefined"==typeof WEBSITE_ID?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+location.port:""):WEBSITE_URL},this.getApiUrl=function(){return"undefined"==typeof API_URL?window.location.protocol+"//"+window.location.hostname+(location.port?":"+window.location.port:"")+"/api":API_URL}}function Registry(r){var a=""==(r=void 0===r?i(window.location.hostname):"@"+r)?r:"8pVbaKePV3beCUZYbKSfujzucbcD3eqyJvCAUgQL8PbYe3VmAMSKC9esx8jV8M7KegPsxkDTpUKvu2UenQyPPjsDf92XnjtZh5GJRz8bQHZngNGKenKZHDD8";function i(t){return JSON.stringify(t)}this.get=function(t){t+=r;if(null===localStorage.getItem(t))return null;var e=localStorage.getItem(t+"&&expires");if(null===e)return null;var e=new Date(e);if((new Date).getTime()>e.getTime())return this.remove(t),null;if(null===(e=window.localStorage.getItem(t)))return e;if("undefined"===e)return null;if(void 0===e)return e=null;t=e,e=JSON.parse(t);return this.decrypt(e)},this.set=function(t,e,n){var n=void 0===n?6e10:1e3*n,t=t+r;null===(e=void 0===e?null:e)?localStorage.removeItem(t):(e=this.encrypt(e),localStorage.setItem(t,i(e)),e=(new Date).getTime()+n,(n=new Date).setTime(e),localStorage.setItem(t+"&&expires",n))},this.remove=function(t){t+=r;localStorage.removeItem(t),localStorage.removeItem(t+"&&expires")},this.empty=function(){for(var t=Object.keys(localStorage),e=0;e<t.length;e++){var n=t[e];-1<n.indexOf(r)&&localStorage.removeItem(n)}},this.encrypt=function(t){for(var e=JSON.stringify(t),n=[],r=a.length,i=0;i<e.length;i++){var o=i%r,o=e.charCodeAt(i)+a.charCodeAt(o);n.push(o)}return JSON.stringify(n)},this.decrypt=function(t){for(var e=[],n="",r=JSON.parse(t),i=a.length,o=0;o<r.length;o++){var u=r[o]-a.charCodeAt(o%i);e.push(u)}for(o=0;o<e.length;o++)n+=String.fromCharCode(e[o]);return e=JSON.parse(n)}}function Initialize(){this.debug=!0,this.get=function(t){return Registry.get(t)},this.set=function(t,e){return Registry.set(t,e)},this.getUrl=function(){return window.location.href},this.getUrlParams=function(){var t=window.location.search.substring(1).split("&"),e={};if(!t.length)return e;for(var n=0;n<t.length;n++){var r=t[n].split("=");e[unescape(r[0])]=unescape(r[1])}return e},this.getUrlParam=function(t){var e=this.getUrlParams();return void 0===e[t]?null:e[t]},this.getAuthUser=function(){return null===Registry.get("AuthUser")?null:Registry.get("AuthUser")},this.setAuthUser=function(t){return Registry.set("AuthUser",t)},this.getAuthToken=function(){return Registry.get("AuthToken")},this.setAuthToken=function(t){return Registry.set("AuthToken",t)},this.setLanguage=function(t){return Registry.set("CurrentLanguage",t)},this.getLanguage=function(){var t=Registry.get("CurrentLanguage");return t=null===t?"en":t},this.to=function(t,e,n){t.match("^http://")||t.match("^https://")||(t=function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";e=new RegExp("["+e+"]+$","g");return(t+"").replace(e,"")}(Config.getRootUrl(),["/"])+"/"+function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";e=new RegExp("^["+e+"]+","g");return(t+"").replace(e,"")}(t,["/"]));var r=void 0===e?"":Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&");return 0<r.length&&(t=t+(t.indexOf("?")<0?"?":"&")+r),"_blank"===(n=void 0===n?{}:n).target?((n=document.createElement("a")).href=t,n.target="_blank",n.style.display="none",document.body.appendChild(n),document.body.lastElementChild.click()):window.location.href=t,!1};var i={},r=-1;this.publish=function(n,r){return!!i[n]&&(setTimeout(function(){for(var t=i[n],e=t?t.length:0;e--;)t[e].func(n,r)},0),!0)},this.subscribe=function(t,e){i[t]||(i[t]=[]);var n=(++r).toString();return i[t].push({token:n,func:e}),n},this.unsubscribe=function(t){for(var e in i)if(i[e])for(var n=0,r=i[e].length;n<r;n++)if(i[e][n].token===t)return i[e].splice(n,1),t;return!1}}Registry=new Registry((Config=new Config).getUniqueId()),$$=new Initialize;
