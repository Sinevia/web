function Config(){this.getUniqueId=function(){return"undefined"==typeof APP_ID?JSON.stringify(window.location.hostname):API_ID},this.getRootUrl=function(){return"undefined"==typeof WEBSITE_ID?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+location.port:""):WEBSITE_URL},this.getApiUrl=function(){return"undefined"==typeof API_URL?window.location.protocol+"//"+window.location.hostname+(location.port?":"+window.location.port:"")+"/api":API_URL}}function Registry(o){const s=""==(o=void 0===o?i(window.location.hostname):"@"+o)?o:"8pVbaKePV3beCUZYbKSfujzucbcD3eqyJvCAUgQL8PbYe3VmAMSKC9esx8jV8M7KegPsxkDTpUKvu2UenQyPPjsDf92XnjtZh5GJRz8bQHZngNGKenKZHDD8";function i(t){return JSON.stringify(t)}this.get=function(t){var e=t+o;if(null===localStorage.getItem(e))return null;t=localStorage.getItem(e+"&&expires");if(null===t)return null;const n=new Date(t),r=new Date;if(r.getTime()>n.getTime())return this.remove(e),null;e=window.localStorage.getItem(e);if(null===e)return null;if("undefined"===e)return null;if(void 0===e)return null;e=JSON.parse(e);return this.decrypt(e)},this.set=function(t,e,n){void 0===e&&(e=null);var r=void 0===n?6e10:1e3*n,t=t+o;if(null===e)return void localStorage.removeItem(t);e=this.encrypt(e);localStorage.setItem(t,i(e));r=(new Date).getTime()+r;const n=new Date;n.setTime(r),localStorage.setItem(t+"&&expires",n)},this.remove=function(t){t+=o;localStorage.removeItem(t),localStorage.removeItem(t+"&&expires")},this.empty=function(){for(var t=Object.keys(localStorage),e=0;e<t.length;e++){var n=t[e];-1<n.indexOf(o)&&localStorage.removeItem(n)}},this.encrypt=function(t){const e=JSON.stringify(t);var n=s.length;const r=[];for(var o=0;o<e.length;o++){var i=o%n,i=e.charCodeAt(o)+s.charCodeAt(i);r.push(i)}return JSON.stringify(r)},this.decrypt=function(t){var e=JSON.parse(t),n=s.length;const r=[];for(let t=0;t<e.length;t++){var o=t%n,o=e[t]-s.charCodeAt(o);r.push(o)}let i="";for(let t=0;t<r.length;t++){var u=String.fromCharCode(r[t]);i+=u}return JSON.parse(i)}}function Initialize(){this.debug=!0,this.get=function(t){return Registry.get(t)},this.set=function(t,e){return Registry.set(t,e)},this.getUrl=function(){return window.location.href},this.getUrlParams=function(){var t=window.location.search.substring(1).split("&"),e={};if(!t.length)return e;for(var n=0;n<t.length;n++){var r=t[n].split("=");e[unescape(r[0])]=unescape(r[1])}return e},this.getUrlParam=function(t){var e=this.getUrlParams();return void 0===e[t]?null:e[t]},this.getAuthUser=function(){return null===Registry.get("AuthUser")?null:Registry.get("AuthUser")},this.setAuthUser=function(t){return Registry.set("AuthUser",t)},this.getAuthToken=function(){return Registry.get("AuthToken")},this.setAuthToken=function(t){return Registry.set("AuthToken",t)},this.setLanguage=function(t){return Registry.set("CurrentLanguage",t)},this.getLanguage=function(){var t=Registry.get("CurrentLanguage");return t=null===t?"en":t},this.to=function(t,e,n){t.match("^http://")||t.match("^https://")||(t=function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"\\$1"):" \\s ";e=new RegExp("["+e+"]+$","g");return(t+"").replace(e,"")}(Config.getRootUrl(),["/"])+"/"+function(t,e){e=e?(e+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" \\s ";e=new RegExp("^["+e+"]+","g");return(t+"").replace(e,"")}(t,["/"]));var r=void 0===e?"":Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&");return 0<r.length&&(t=t+(t.indexOf("?")<0?"?":"&")+r),"_blank"===(n=void 0===n?{}:n).target?((n=document.createElement("a")).href=t,n.target="_blank",n.style.display="none",document.body.appendChild(n),document.body.lastElementChild.click()):window.location.href=t,!1};var o={},r=-1;this.publish=function(n,r){return!!o[n]&&(setTimeout(function(){for(var t=o[n],e=t?t.length:0;e--;)t[e].func(n,r)},0),!0)},this.subscribe=function(t,e){o[t]||(o[t]=[]);var n=(++r).toString();return o[t].push({token:n,func:e}),n},this.unsubscribe=function(t){for(var e in o)if(o[e])for(var n=0,r=o[e].length;n<r;n++)if(o[e][n].token===t)return o[e].splice(n,1),t;return!1}}Registry=new Registry((Config=new Config).getUniqueId()),$$=new Initialize;
